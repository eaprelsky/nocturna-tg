# Nocturna Telegram Bot

–ê—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π Telegram-–±–æ—Ç –Ω–∞ Python –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—É—â–∏—Ö —Ç—Ä–∞–Ω–∑–∏—Ç–æ–≤ –ø–ª–∞–Ω–µ—Ç.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üåü –¢–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–ª–∞–Ω–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üîÆ –ê–Ω–∞–ª–∏–∑ –∞—Å–ø–µ–∫—Ç–æ–≤ –º–µ–∂–¥—É –ø–ª–∞–Ω–µ—Ç–∞–º–∏
- üåç –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤
- üá∑üá∫ –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä —Ä–∞—Å—á–µ—Ç–æ–≤ [nocturna-calculations](http://localhost:8000) –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.

–ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
- **OOP & SOLID** - –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Clean Architecture** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤ (API –∫–ª–∏–µ–Ω—Ç, —Å–µ—Ä–≤–∏—Å—ã, –±–æ—Ç)
- **Dependency Injection** - –ª–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- Conda (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º)
- –ó–∞–ø—É—â–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä nocturna-calculations –Ω–∞ –ø–æ—Ä—Ç—É 8000

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
make setup
conda activate nocturna-tg
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
make install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
make env
```

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
```env
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_BOT_USERNAME=your_bot_username
NOCTURNA_API_URL=http://localhost:8000/api
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
make run
```

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- `/transit` - –¢–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–ª–∞–Ω–µ—Ç –∏ –∞—Å–ø–µ–∫—Ç—ã
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

## –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

```bash
make help      # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make test      # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make format    # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
make lint      # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ –ª–∏–Ω—Ç–µ—Ä–∞–º–∏
make clean     # –£–¥–∞–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
nocturna-tg/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/              # –ö–ª–∏–µ–Ω—Ç—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ nocturna_client.py
‚îÇ   ‚îú‚îÄ‚îÄ bot/              # Telegram bot handlers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ commands.py
‚îÇ   ‚îú‚îÄ‚îÄ services/         # Business logic
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ transit_service.py
‚îÇ   ‚îú‚îÄ‚îÄ formatters/       # Output formatters
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ russian_formatter.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py         # Configuration management
‚îÇ   ‚îî‚îÄ‚îÄ main.py           # Application entry point
‚îú‚îÄ‚îÄ tests/                # Tests
‚îú‚îÄ‚îÄ requirements.txt      # Dependencies
‚îú‚îÄ‚îÄ Makefile             # Build automation
‚îî‚îÄ‚îÄ README.md
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:
- **SOLID** - –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **DRY** - –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ–º—Å—è
- **KISS** - –ø—Ä–æ—Å—Ç–æ—Ç–∞ –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ
- **YAGNI** - –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –ª–∏—à–Ω–µ–≥–æ

–§–∞–π–ª—ã –∏ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–º–∏ (<150 —Å—Ç—Ä–æ–∫).

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

